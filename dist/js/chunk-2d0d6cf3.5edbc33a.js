(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6cf3"],{"73ab":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{lg:{span:8}}},[n("h1",[t._v("首页信息")]),n("el-divider"),n("el-form",[n("el-form-item",{attrs:{label:"签名"}},[n("el-tooltip",{attrs:{content:"个性签名"}},[n("el-input",{model:{value:t.settings.signature,callback:function(e){t.$set(t.settings,"signature",e)},expression:"settings.signature"}})],1)],1),n("el-form-item",{attrs:{label:"音乐插件URL"}},[n("el-tooltip",{attrs:{content:"网易云音乐"}},[n("el-input",{model:{value:t.settings.musicURL,callback:function(e){t.$set(t.settings,"musicURL",e)},expression:"settings.musicURL"}})],1)],1),n("el-form-item",{attrs:{label:"公告"}},[n("el-tooltip",{attrs:{content:"公告展示在首页公告区"}},[n("el-input",{attrs:{type:"textarea",rows:"6",resize:"none"},model:{value:t.settings.notice,callback:function(e){t.$set(t.settings,"notice",e)},expression:"settings.notice"}})],1)],1)],1)],1),n("el-col",{attrs:{lg:{span:8}}},[n("h1",[t._v("系统配置")]),n("el-divider"),n("el-form",[n("el-form-item",{attrs:{label:"邮件通知地址"}},[n("el-tooltip",{attrs:{content:"当有新回复、评论和留言将会发送邮件到配置地址进行提醒"}},[n("el-input",{model:{value:t.settings.mailAddress,callback:function(e){t.$set(t.settings,"mailAddress",e)},expression:"settings.mailAddress"}})],1)],1)],1)],1)],1),n("el-row",[n("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.settings.myInfo,callback:function(e){t.$set(t.settings,"myInfo",e)},expression:"settings.myInfo"}})],1),n("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[n("el-button",{staticClass:"el-button--primary",on:{click:t.updateSettingAll}},[t._v("保存")])],1)],1)],1)},o=[],l=n("3730"),a=n.n(l),s=n("fb3d"),r=n.n(s),u=n("30a6"),c=(n("d3b7"),n("1c42")),g=n("124d"),d=n("3fa5"),m={getSettingAll:function(t){return null!=t?new Promise((function(e,n){var i="/admin/setting/all";c["a"].get(i,{headers:{Authorization:t}}).then((function(t){t.myInfo=g["a"].imageAddProxy(t.myInfo),e(t)}),(function(t){return n(t)}))})):Promise.reject("no token")},updateSetting:function(t,e){return null!=t?new Promise((function(n,i){var o="/admin/setting/all";e.myInfo=g["a"].imageRemoveProxy(e.myInfo),c["a"].put(o,e,{headers:{Authorization:t}}).then((function(t){d["a"].success("更新设置成功！"),n(t)}),(function(t){return i(t)}))})):Promise.reject("no token")}},f=m,p=n("90fb"),h={name:"other",data:function(){return{editor:r.a,settings:{notice:"",signature:"",mailAddress:"",musicURL:"",myInfo:""},editorConfig:{language:"zh-cn",codeBlock:{languages:this.languages},image:{toolbar:["imageStyle:alignLeft","imageStyle:alignCenter","imageStyle:alignRight","|","resizeImage","|","imageTextAlternative"],styles:["full","side","alignLeft","alignCenter","alignRight"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},simpleUpload:{uploadUrl:p["a"]+"/admin/upload/images",headers:{Authorization:"",baseURL:p["a"]}},toolbar:{items:["undo","redo","heading","|","bold","italic","underline","strikethrough","subscript","superscript","removeFormat","|","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","imageUpload","blockQuote","insertTable","codeBlock","specialCharacters","|","link","bulletedList","numberedList","todoList","|","alignment","outdent","indent","horizontalLine"],shouldNotGroupWhenFull:!0},blockToolbar:["paragraph","heading1","heading2","heading3","|","bulletedList","numberedList","|","blockQuote","uploadImage"]}}},methods:{updateSettingAll:function(){var t=this;f.updateSetting(this.token,this.settings).then((function(){t.$router.back()}),(function(t){return console.error(t)}))},getSettingAll:function(){var t=this;f.getSettingAll(this.token).then((function(e){t.settings=e}),(function(t){return console.error(t)}))},getToken:function(){var t=this.$cookies.get(u["a"].admin);null==t?this.$router.push("/admin/login"):(this.editorConfig.simpleUpload.headers.Authorization=t,this.token=t)}},components:{ckeditor:a.a.component},created:function(){this.getToken(),this.getSettingAll()}},b=h,k=n("2877"),v=Object(k["a"])(b,i,o,!1,null,"18e6e0d0",null);e["default"]=v.exports}}]);